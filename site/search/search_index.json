{
    "docs": [
        {
            "location": "/", 
            "text": "\u6b22\u8fce\u6765\u5230\u6211\u7684\u5b66\u4e60\u7b14\u8bb0\n\n\n\n\n\u76f8\u5173\u4ee3\u7801", 
            "title": "Home"
        }, 
        {
            "location": "/#_1", 
            "text": "\u76f8\u5173\u4ee3\u7801", 
            "title": "\u6b22\u8fce\u6765\u5230\u6211\u7684\u5b66\u4e60\u7b14\u8bb0"
        }, 
        {
            "location": "/read_data/", 
            "text": "\u8bfb\u53d6\u6570\u636e\n\n\n\u4eceHadoop Url\u8bfb\u53d6\u6570\u636e\n\n\n\n\n\u5728hadoop\u6839\u76ee\u5f55\u4e0b\uff0c\u5148\u542f\u52a8hdfs\uff1a\n\n\n\n\n./sbin/start-dfs.sh\n\n\n\n\n\n\n\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u914d\u7f6ehadoop\uff0c\u4ee5\u4fbf\u5728\u547d\u4ee4\u884c\u4f7f\u7528hadoop\uff1a\n\n\n\n\n#hadoop\u73af\u5883\u53d8\u91cf\nexport HADOOP_HOME=/usr/local/hadoop\nexport PATH=$PATH:$HADOOP_HOME/bin\n\n\n\n\n\n\n\u5c06java\u7a0b\u5e8f\u7c7b\u8def\u5f84\uff0c\u4e34\u65f6\u6dfb\u52a0\u5230hadoop\u7684classpath\uff1a\n\n\n\n\nexport HADOOP_CLASSPATH=$HADOOP_CLASSPATH:./\n\n\n\n\n\n\n\u8fd0\u884c\u7a0b\u5e8f\n\n\n\n\nhadoop cumt.tj.learn.hadoop.hdfs.readdata.URLCat hdfs://localhost:9000/user/sky/README.txt\n\n\n\n\n\u901a\u8fc7FileSystem API\u8bfb\u53d6\u6570\u636e\n\n\n\n\n\u8fd0\u884c\u7a0b\u5e8f\n\n\n\n\nhadoop cumt.tj.learn.hadoop.hdfs.readdata.FileSystemCat hdfs://localhost:9000/user/sky/README.txt\n\n\n\n\n\u533a\u522b\n\n\n\n\n\u901a\u8fc7URL\u8bfb\u53d6\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u4f7f\u7528\u4e86URL\u7c7b\u7684\u9759\u6001\u65b9\u6cd5setURLStreamHandlerFactory()\u3002\u901a\u8fc7\u67e5\u770b\u6e90\u7801\u53d1\u73b0\uff1a\n\n\n\n\npublic static void setURLStreamHandlerFactory(URLStreamHandlerFactory fac) {\n    synchronized (streamHandlerLock) {\n        if (factory != null) {\n            throw new Error(\nfactory already defined\n);\n        }\n        SecurityManager security = System.getSecurityManager();\n        if (security != null) {\n            security.checkSetFactory();\n        }\n        handlers.clear();\n        factory = fac;\n    }\n}\n\n\n\n\n\u5f53\u5176\u4ed6\u7a0b\u5e8f\u8c03\u7528setURLStreamHandlerFactory(\u2026\u2026)\u65b9\u6cd5\u65f6\uff0c\u4f1a\u76f4\u63a5\u4ea7\u751fError\u3002\u56e0\u6b64\u4e00\u4e2ajvm\u865a\u62df\u4e2d\u53ea\u80fd\u4f7f\u7528\u4e00\u79cdURLStreamHandlerFactory\u3002\u7136\u800c\u4f7f\u7528FileSystem API\u8bfb\u53d6\u6570\u636e\u65f6\u5c31\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u79cd\u95ee\u9898\u3002\n\n\nnamenode\u4e0edatanode\n\n\nHDFS\u4e2d\u7684namenode\u4e3a\u7ba1\u7406\u8282\u70b9\uff0c\u800c\u5de5\u4f5c\u8282\u70b9\u662fdatanode\u3002\n\n\n\n\nnamenode\u7ba1\u7406\u6587\u4ef6\u7cfb\u7edf\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u7ef4\u62a4\u7740\u6587\u4ef6\u7cfb\u7edf\u6811\u53ca\u6574\u68f5\u6811\u5185\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u8fd9\u4e9b\u4fe1\u606f\u4ee5\u547d\u540d\u7a7a\u95f4\u955c\u50cf\u6587\u4ef6\u548c\u7f16\u8f91\u65e5\u5fd7\u6587\u4ef6\u6c38\u4e45\u4fdd\u5b58\u5728\u672c\u5730\u78c1\u76d8\u4e0a\u3002\u53e6\u5916\uff0cnamenode\u8fd8\u8bb0\u5f55\u7740\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u7684\u5404\u4e2a\u5757\u7684\u6570\u636e\u8282\u70b9\u4fe1\u606f\u3002\n\n\ndatanode\u662f\u6587\u4ef6\u7cfb\u7edf\u7684\u5de5\u4f5c\u8282\u70b9\uff0c\u6839\u636e\u9700\u8981\u5b58\u50a8\u5e76\u68c0\u7d22\u6570\u636e\u5757\uff0c\u5e76\u5b9a\u671f\u5411namenode\u53d1\u9001\u6240\u5b58\u50a8\u7684\u5757\u7684\u5217\u8868\u3002\n\n\n\n\n\u5728\u8bfb\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0cDistributedFileSystem\u4f1a\u8c03\u7528namenode\uff0c\u4ee5\u786e\u5b9a\u6587\u4ef6\u7684\u6bcf\u4e00\u4e2a\u5757\u7684\u6240\u5728\u7684datanode\u5730\u5740\u3002\u800c\u901a\u5e38\u6587\u4ef6\u5757\u4f1a\u6709\u591a\u4e2a\u526f\u672c\u5728\u4e0d\u540c\u7684datanode\u4e0a\u9762\uff0c\u90a3\u4e48namenode\u600e\u6837\u7684\u987a\u5e8f\u8fd4\u56dedatanode\u7684\u5730\u5740\u5462\uff1a\n\n\n\n\n\u540c\u4e00\u8282\u70b9\u4e0a\u7684\u8fdb\u7a0b\n\n\n\u540c\u4e00\u673a\u67b6\u4e0a\u7684\u4e0d\u540c\u8282\u70b9\n\n\n\u540c\u4e00\u6570\u636e\u4e2d\u5fc3\u4e2d\u4e0d\u540c\u673a\u67b6\u4e0a\u7684\u8282\u70b9\n\n\n\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e2d\u7684\u8282\u70b9", 
            "title": "\u8bfb\u53d6\u6570\u636e"
        }, 
        {
            "location": "/read_data/#_1", 
            "text": "", 
            "title": "\u8bfb\u53d6\u6570\u636e"
        }, 
        {
            "location": "/read_data/#hadoop-url", 
            "text": "\u5728hadoop\u6839\u76ee\u5f55\u4e0b\uff0c\u5148\u542f\u52a8hdfs\uff1a   ./sbin/start-dfs.sh   \u5728\u73af\u5883\u53d8\u91cf\u4e2d\u914d\u7f6ehadoop\uff0c\u4ee5\u4fbf\u5728\u547d\u4ee4\u884c\u4f7f\u7528hadoop\uff1a   #hadoop\u73af\u5883\u53d8\u91cf\nexport HADOOP_HOME=/usr/local/hadoop\nexport PATH=$PATH:$HADOOP_HOME/bin   \u5c06java\u7a0b\u5e8f\u7c7b\u8def\u5f84\uff0c\u4e34\u65f6\u6dfb\u52a0\u5230hadoop\u7684classpath\uff1a   export HADOOP_CLASSPATH=$HADOOP_CLASSPATH:./   \u8fd0\u884c\u7a0b\u5e8f   hadoop cumt.tj.learn.hadoop.hdfs.readdata.URLCat hdfs://localhost:9000/user/sky/README.txt", 
            "title": "\u4eceHadoop Url\u8bfb\u53d6\u6570\u636e"
        }, 
        {
            "location": "/read_data/#filesystem-api", 
            "text": "\u8fd0\u884c\u7a0b\u5e8f   hadoop cumt.tj.learn.hadoop.hdfs.readdata.FileSystemCat hdfs://localhost:9000/user/sky/README.txt", 
            "title": "\u901a\u8fc7FileSystem API\u8bfb\u53d6\u6570\u636e"
        }, 
        {
            "location": "/read_data/#_2", 
            "text": "\u901a\u8fc7URL\u8bfb\u53d6\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u4f7f\u7528\u4e86URL\u7c7b\u7684\u9759\u6001\u65b9\u6cd5setURLStreamHandlerFactory()\u3002\u901a\u8fc7\u67e5\u770b\u6e90\u7801\u53d1\u73b0\uff1a   public static void setURLStreamHandlerFactory(URLStreamHandlerFactory fac) {\n    synchronized (streamHandlerLock) {\n        if (factory != null) {\n            throw new Error( factory already defined );\n        }\n        SecurityManager security = System.getSecurityManager();\n        if (security != null) {\n            security.checkSetFactory();\n        }\n        handlers.clear();\n        factory = fac;\n    }\n}  \u5f53\u5176\u4ed6\u7a0b\u5e8f\u8c03\u7528setURLStreamHandlerFactory(\u2026\u2026)\u65b9\u6cd5\u65f6\uff0c\u4f1a\u76f4\u63a5\u4ea7\u751fError\u3002\u56e0\u6b64\u4e00\u4e2ajvm\u865a\u62df\u4e2d\u53ea\u80fd\u4f7f\u7528\u4e00\u79cdURLStreamHandlerFactory\u3002\u7136\u800c\u4f7f\u7528FileSystem API\u8bfb\u53d6\u6570\u636e\u65f6\u5c31\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u79cd\u95ee\u9898\u3002", 
            "title": "\u533a\u522b"
        }, 
        {
            "location": "/read_data/#namenodedatanode", 
            "text": "HDFS\u4e2d\u7684namenode\u4e3a\u7ba1\u7406\u8282\u70b9\uff0c\u800c\u5de5\u4f5c\u8282\u70b9\u662fdatanode\u3002   namenode\u7ba1\u7406\u6587\u4ef6\u7cfb\u7edf\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u7ef4\u62a4\u7740\u6587\u4ef6\u7cfb\u7edf\u6811\u53ca\u6574\u68f5\u6811\u5185\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u8fd9\u4e9b\u4fe1\u606f\u4ee5\u547d\u540d\u7a7a\u95f4\u955c\u50cf\u6587\u4ef6\u548c\u7f16\u8f91\u65e5\u5fd7\u6587\u4ef6\u6c38\u4e45\u4fdd\u5b58\u5728\u672c\u5730\u78c1\u76d8\u4e0a\u3002\u53e6\u5916\uff0cnamenode\u8fd8\u8bb0\u5f55\u7740\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u7684\u5404\u4e2a\u5757\u7684\u6570\u636e\u8282\u70b9\u4fe1\u606f\u3002  datanode\u662f\u6587\u4ef6\u7cfb\u7edf\u7684\u5de5\u4f5c\u8282\u70b9\uff0c\u6839\u636e\u9700\u8981\u5b58\u50a8\u5e76\u68c0\u7d22\u6570\u636e\u5757\uff0c\u5e76\u5b9a\u671f\u5411namenode\u53d1\u9001\u6240\u5b58\u50a8\u7684\u5757\u7684\u5217\u8868\u3002   \u5728\u8bfb\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0cDistributedFileSystem\u4f1a\u8c03\u7528namenode\uff0c\u4ee5\u786e\u5b9a\u6587\u4ef6\u7684\u6bcf\u4e00\u4e2a\u5757\u7684\u6240\u5728\u7684datanode\u5730\u5740\u3002\u800c\u901a\u5e38\u6587\u4ef6\u5757\u4f1a\u6709\u591a\u4e2a\u526f\u672c\u5728\u4e0d\u540c\u7684datanode\u4e0a\u9762\uff0c\u90a3\u4e48namenode\u600e\u6837\u7684\u987a\u5e8f\u8fd4\u56dedatanode\u7684\u5730\u5740\u5462\uff1a   \u540c\u4e00\u8282\u70b9\u4e0a\u7684\u8fdb\u7a0b  \u540c\u4e00\u673a\u67b6\u4e0a\u7684\u4e0d\u540c\u8282\u70b9  \u540c\u4e00\u6570\u636e\u4e2d\u5fc3\u4e2d\u4e0d\u540c\u673a\u67b6\u4e0a\u7684\u8282\u70b9  \u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e2d\u7684\u8282\u70b9", 
            "title": "namenode\u4e0edatanode"
        }, 
        {
            "location": "/write_data/", 
            "text": "\u5199\u5165\u6570\u636e\n\n\n\u8fd0\u884c\u7a0b\u5e8f\n\n\n\n\n\u8fd0\u884c\u7a0b\u5e8f\uff0c\u5c06\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\uff0c\u590d\u5236\u5230HDFS\u4e2d\uff1a\n\n\n\n\nhadoop cumt.tj.learn.hadoop.hdfs.writedata.FileCopyWithProgress ~/.bashrc hdfs://localhost:9000/user/sky/.bashrc\n\n\n\n\n\n\n\u4f7f\u7528hadoop\u547d\u4ee4\uff0c\u67e5\u770bhdfs\u4e2d\u7684\u6587\u4ef6\u662f\u5426\u4e0e\u5b9e\u9645\u6587\u4ef6\u76f8\u7b26\uff1a\n\n\n\n\nhadoop fs -cat .bashrc\n\n\n\n\nnamenode\u4e0edatanode\n\n\n\u5728hadoop\u96c6\u7fa4\u4e2d\uff0c\u6587\u4ef6\u5757\u901a\u5e38\u4f1a\u6709\u591a\u4e2a\u526f\u672c\u5206\u522b\u5b58\u50a8\u5728\u4e0d\u540c\u7684datanode\u4e0a\u9762\u3002\u90a3\u4e48namenode\u662f\u5982\u4f55\u51b3\u5b9a\u6587\u4ef6\u5757\u5b58\u50a8\u5230\u54ea\u4e9bdatanode\u4e0a\uff0c\u4ee5\u53ca\u600e\u4e48\u5c06\u526f\u672c\u5b58\u50a8\u5728\u76f8\u5e94\u7684datanode\u4e0a\u7684\u5462\uff1f\n\n\nnamenode\u5728\u9009\u53d6datanode\u65f6\uff0c\u4e0d\u4ec5\u8981\u8003\u8651\u5199\u5165\u5e26\u5bbd\u3001\u8bfb\u53d6\u5e26\u5bbd\uff0c\u8fd8\u8981\u8003\u8651\u53ef\u9760\u6027\uff0c\u63d0\u4f9b\u771f\u6b63\u7684\u5197\u4f59\u3002\u6bd4\u5982\u5982\u679c\u5c06\u6240\u6709\u5757\u5199\u5165\u5230\u4e00\u4e2adatanode\u4e0a\u9762\uff0c\u867d\u7136\u4fdd\u8bc1\u4e86\u5e26\u5bbd\uff0c\u4f46\u662f\u6ca1\u6709\u5b9e\u73b0\u771f\u6b63\u7684\u5197\u4f59\uff0c\u5f53\u4e00\u4e2adatanode\u6302\u6389\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5c31gameover\u4e86\u3002namenode\u6700\u7ec8\u91c7\u7528\u8fd9\u6837\u7684\u65b9\u5f0f\u5199\u5165\u526f\u672c\uff1a\n\n\n\n\n\u5728\u8fd0\u884c\u5ba2\u6237\u7aef\u7684\u8282\u70b9\u4e0a\u653e\u7b2c\u4e00\u4e2a\u526f\u672c\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u8fd0\u884c\u5728\u96c6\u7fa4\u4e4b\u5916\uff0c\u5c31\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u8282\u70b9\n\n\n\u5728\u7b2c\u4e00\u4e2a\u8282\u70b9\u6240\u5728\u673a\u67b6\u4e4b\u5916\uff0c\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u673a\u67b6\u7684\u8282\u70b9\uff0c\u5b58\u50a8\u7b2c\u4e8c\u4e2a\u526f\u672c\n\n\n\u7b2c\u4e8c\u4e2a\u526f\u672c\u6240\u5728\u673a\u67b6\u4e0a\uff0c\u968f\u673a\u9009\u62e9\u53e6\u4e00\u4e2a\u8282\u70b9\uff0c\u5b58\u50a8\u7b2c\u4e09\u4e2a\u526f\u672c\n\n\n\u5982\u679c\u8fd8\u9700\u8981\u5b58\u50a8\u5176\u4ed6\u526f\u672c\uff0c\u5c31\u5728\u96c6\u7fa4\u4e2d\u968f\u673a\u9009\u62e9\u8282\u70b9\u5b58\u50a8 \n\n\n\n\n\u90a3\u4e48\u5982\u4f55\u5c06\u526f\u672c\u5b58\u50a8\u5728\u8fd9\u4e9bdatanode\u4e0a\u5462\uff1a\n\n\n\n\n\u5199\u5165\u6570\u636e\u65f6\uff0c\u6570\u636e\u4f1a\u5206\u6210\u4e00\u4e2a\u4e2a\u6570\u636e\u5305\uff0c\u5f62\u6210\u201c\u6570\u636e\u961f\u5217\u201d\n\n\nnamenode\u9009\u53d6\u7684datanodes\u6784\u6210\u4e86\u4e00\u4e2a\u7ba1\u7ebf\n\n\n\u6570\u636e\u6d41\u4f20\u5165\u7b2c\u4e00\u4e2adatanode\uff0cdatanode\u5b58\u50a8\u5b8c\u6570\u636e\u5305\u540e\uff0c\u5c06\u5b83\u4eec\u53d1\u9001\u7ed9\u7b2c\u4e8c\u4e2adatanode\uff0c\u4f9d\u6b21\u7c7b\u63a8\n\n\n\u5982\u679c\u4e00\u5207\u6210\u529f\uff0c\u6240\u6709datanode\u7684\u8fd4\u56de\u5f62\u6210\u201c\u786e\u8ba4\u961f\u5217\u201d\u3002\u5f53\u6536\u5230\u7ba1\u9053\u5185\u7684\u6240\u6709datanode\u7684\u786e\u8ba4\u961f\u5217\u4e4b\u540e\uff0c\u6570\u636e\u5305\u624d\u4f1a\u4ece\u786e\u8ba4\u961f\u5217\u4e2d\u5220\u9664\n\n\n\u5982\u679c\u67d0\u4e2adatanode\u5728\u5199\u5165\u6570\u636e\u671f\u95f4\u53d1\u751f\u6545\u969c\uff0c\u90a3\u4e48\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n\n\n\u5173\u95ed\u7ba1\u7ebf\uff0c\u5c06\u6240\u6709\u6570\u636e\u5305\u6dfb\u52a0\u56de\u6570\u636e\u961f\u5217\u7684\u524d\u7aef\uff0c\u4ee5\u786e\u4fdd\u4e0b\u4e0b\u4e00\u4e2adatanode\u4e0d\u4f1a\u6f0f\u6389\u4efb\u4f55\u6570\u636e\n\n\n\u5728\u5df2\u7ecf\u5b58\u50a8\u5757\uff0c\u4e14\u8fd0\u884c\u6b63\u5e38\u7684datanode\u7684\u5757\u4e2d\u6dfb\u52a0\u65b0\u6807\u8bc6\uff0c\u4f20\u9001\u7ed9namenode\uff0c\u4ee5\u4fbf\u6545\u969cdatanode\u6062\u590d\u6b63\u5e38\u540e\u53ef\u4ee5\u5220\u9664\u5df2\u7ecf\u5b58\u50a8\u7684\u90e8\u5206\u6570\u636e\u5757\n\n\n\u4ece\u7ba1\u7ebf\u4e2d\u5220\u9664\u6545\u969cdatanode\uff0c\u5176\u4ed6\u7684datanode\u6784\u6210\u4e00\u4e2a\u65b0\u7ba1\u7ebf\uff0c\u7ee7\u7eed\u8fdb\u884c\u6570\u636e\u5199\u5165\u3002\u5f53namenode\u6ce8\u610f\u5230\u526f\u672c\u6570\u4e0d\u8db3\u7684\u65f6\u5019\uff0c\u4f1a\u5728\u53e6\u4e00\u4e2adatanode\u4e0a\u521b\u5efa\u65b0\u7684\u526f\u672c\u3002\n\n\n\n\n\n\nnamenode\u5728\u7b49\u5f85\u6700\u5c0f\u526f\u672c\u6570\uff08dfs.namenode.replication.min\uff0c\u9ed8\u8ba4\u4e3a1\uff09\u5199\u5165\u6210\u529f\u540e\uff0c\u5c31\u80fd\u8fd4\u56de\u5199\u5165\u6570\u636e\u6210\u529f\u3002\u56e0\u4e3a\u5b83\u5df2\u7ecf\u77e5\u9053\u4e86\u6587\u4ef6\u7531\u54ea\u4e9b\u5757\u7ec4\u6210\uff0c\u5199\u526f\u672c\u662f\u53ef\u4ee5\u540e\u7eed\u6216\u8005\u5f02\u6b65\u8fdb\u884c\u7684\u3002", 
            "title": "\u5199\u5165\u6570\u636e"
        }, 
        {
            "location": "/write_data/#_1", 
            "text": "", 
            "title": "\u5199\u5165\u6570\u636e"
        }, 
        {
            "location": "/write_data/#_2", 
            "text": "\u8fd0\u884c\u7a0b\u5e8f\uff0c\u5c06\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\uff0c\u590d\u5236\u5230HDFS\u4e2d\uff1a   hadoop cumt.tj.learn.hadoop.hdfs.writedata.FileCopyWithProgress ~/.bashrc hdfs://localhost:9000/user/sky/.bashrc   \u4f7f\u7528hadoop\u547d\u4ee4\uff0c\u67e5\u770bhdfs\u4e2d\u7684\u6587\u4ef6\u662f\u5426\u4e0e\u5b9e\u9645\u6587\u4ef6\u76f8\u7b26\uff1a   hadoop fs -cat .bashrc", 
            "title": "\u8fd0\u884c\u7a0b\u5e8f"
        }, 
        {
            "location": "/write_data/#namenodedatanode", 
            "text": "\u5728hadoop\u96c6\u7fa4\u4e2d\uff0c\u6587\u4ef6\u5757\u901a\u5e38\u4f1a\u6709\u591a\u4e2a\u526f\u672c\u5206\u522b\u5b58\u50a8\u5728\u4e0d\u540c\u7684datanode\u4e0a\u9762\u3002\u90a3\u4e48namenode\u662f\u5982\u4f55\u51b3\u5b9a\u6587\u4ef6\u5757\u5b58\u50a8\u5230\u54ea\u4e9bdatanode\u4e0a\uff0c\u4ee5\u53ca\u600e\u4e48\u5c06\u526f\u672c\u5b58\u50a8\u5728\u76f8\u5e94\u7684datanode\u4e0a\u7684\u5462\uff1f  namenode\u5728\u9009\u53d6datanode\u65f6\uff0c\u4e0d\u4ec5\u8981\u8003\u8651\u5199\u5165\u5e26\u5bbd\u3001\u8bfb\u53d6\u5e26\u5bbd\uff0c\u8fd8\u8981\u8003\u8651\u53ef\u9760\u6027\uff0c\u63d0\u4f9b\u771f\u6b63\u7684\u5197\u4f59\u3002\u6bd4\u5982\u5982\u679c\u5c06\u6240\u6709\u5757\u5199\u5165\u5230\u4e00\u4e2adatanode\u4e0a\u9762\uff0c\u867d\u7136\u4fdd\u8bc1\u4e86\u5e26\u5bbd\uff0c\u4f46\u662f\u6ca1\u6709\u5b9e\u73b0\u771f\u6b63\u7684\u5197\u4f59\uff0c\u5f53\u4e00\u4e2adatanode\u6302\u6389\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5c31gameover\u4e86\u3002namenode\u6700\u7ec8\u91c7\u7528\u8fd9\u6837\u7684\u65b9\u5f0f\u5199\u5165\u526f\u672c\uff1a   \u5728\u8fd0\u884c\u5ba2\u6237\u7aef\u7684\u8282\u70b9\u4e0a\u653e\u7b2c\u4e00\u4e2a\u526f\u672c\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u8fd0\u884c\u5728\u96c6\u7fa4\u4e4b\u5916\uff0c\u5c31\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u8282\u70b9  \u5728\u7b2c\u4e00\u4e2a\u8282\u70b9\u6240\u5728\u673a\u67b6\u4e4b\u5916\uff0c\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u673a\u67b6\u7684\u8282\u70b9\uff0c\u5b58\u50a8\u7b2c\u4e8c\u4e2a\u526f\u672c  \u7b2c\u4e8c\u4e2a\u526f\u672c\u6240\u5728\u673a\u67b6\u4e0a\uff0c\u968f\u673a\u9009\u62e9\u53e6\u4e00\u4e2a\u8282\u70b9\uff0c\u5b58\u50a8\u7b2c\u4e09\u4e2a\u526f\u672c  \u5982\u679c\u8fd8\u9700\u8981\u5b58\u50a8\u5176\u4ed6\u526f\u672c\uff0c\u5c31\u5728\u96c6\u7fa4\u4e2d\u968f\u673a\u9009\u62e9\u8282\u70b9\u5b58\u50a8    \u90a3\u4e48\u5982\u4f55\u5c06\u526f\u672c\u5b58\u50a8\u5728\u8fd9\u4e9bdatanode\u4e0a\u5462\uff1a   \u5199\u5165\u6570\u636e\u65f6\uff0c\u6570\u636e\u4f1a\u5206\u6210\u4e00\u4e2a\u4e2a\u6570\u636e\u5305\uff0c\u5f62\u6210\u201c\u6570\u636e\u961f\u5217\u201d  namenode\u9009\u53d6\u7684datanodes\u6784\u6210\u4e86\u4e00\u4e2a\u7ba1\u7ebf  \u6570\u636e\u6d41\u4f20\u5165\u7b2c\u4e00\u4e2adatanode\uff0cdatanode\u5b58\u50a8\u5b8c\u6570\u636e\u5305\u540e\uff0c\u5c06\u5b83\u4eec\u53d1\u9001\u7ed9\u7b2c\u4e8c\u4e2adatanode\uff0c\u4f9d\u6b21\u7c7b\u63a8  \u5982\u679c\u4e00\u5207\u6210\u529f\uff0c\u6240\u6709datanode\u7684\u8fd4\u56de\u5f62\u6210\u201c\u786e\u8ba4\u961f\u5217\u201d\u3002\u5f53\u6536\u5230\u7ba1\u9053\u5185\u7684\u6240\u6709datanode\u7684\u786e\u8ba4\u961f\u5217\u4e4b\u540e\uff0c\u6570\u636e\u5305\u624d\u4f1a\u4ece\u786e\u8ba4\u961f\u5217\u4e2d\u5220\u9664  \u5982\u679c\u67d0\u4e2adatanode\u5728\u5199\u5165\u6570\u636e\u671f\u95f4\u53d1\u751f\u6545\u969c\uff0c\u90a3\u4e48\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a  \u5173\u95ed\u7ba1\u7ebf\uff0c\u5c06\u6240\u6709\u6570\u636e\u5305\u6dfb\u52a0\u56de\u6570\u636e\u961f\u5217\u7684\u524d\u7aef\uff0c\u4ee5\u786e\u4fdd\u4e0b\u4e0b\u4e00\u4e2adatanode\u4e0d\u4f1a\u6f0f\u6389\u4efb\u4f55\u6570\u636e  \u5728\u5df2\u7ecf\u5b58\u50a8\u5757\uff0c\u4e14\u8fd0\u884c\u6b63\u5e38\u7684datanode\u7684\u5757\u4e2d\u6dfb\u52a0\u65b0\u6807\u8bc6\uff0c\u4f20\u9001\u7ed9namenode\uff0c\u4ee5\u4fbf\u6545\u969cdatanode\u6062\u590d\u6b63\u5e38\u540e\u53ef\u4ee5\u5220\u9664\u5df2\u7ecf\u5b58\u50a8\u7684\u90e8\u5206\u6570\u636e\u5757  \u4ece\u7ba1\u7ebf\u4e2d\u5220\u9664\u6545\u969cdatanode\uff0c\u5176\u4ed6\u7684datanode\u6784\u6210\u4e00\u4e2a\u65b0\u7ba1\u7ebf\uff0c\u7ee7\u7eed\u8fdb\u884c\u6570\u636e\u5199\u5165\u3002\u5f53namenode\u6ce8\u610f\u5230\u526f\u672c\u6570\u4e0d\u8db3\u7684\u65f6\u5019\uff0c\u4f1a\u5728\u53e6\u4e00\u4e2adatanode\u4e0a\u521b\u5efa\u65b0\u7684\u526f\u672c\u3002    namenode\u5728\u7b49\u5f85\u6700\u5c0f\u526f\u672c\u6570\uff08dfs.namenode.replication.min\uff0c\u9ed8\u8ba4\u4e3a1\uff09\u5199\u5165\u6210\u529f\u540e\uff0c\u5c31\u80fd\u8fd4\u56de\u5199\u5165\u6570\u636e\u6210\u529f\u3002\u56e0\u4e3a\u5b83\u5df2\u7ecf\u77e5\u9053\u4e86\u6587\u4ef6\u7531\u54ea\u4e9b\u5757\u7ec4\u6210\uff0c\u5199\u526f\u672c\u662f\u53ef\u4ee5\u540e\u7eed\u6216\u8005\u5f02\u6b65\u8fdb\u884c\u7684\u3002", 
            "title": "namenode\u4e0edatanode"
        }, 
        {
            "location": "/Configuration/", 
            "text": "Configuration\n\n\nHadoop\u6709\u592a\u591a\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u914d\u7f6e\u9879\uff0c\u5728\u5b98\u65b9\u6587\u6863\u91cc\u9762\u90fd\u6709\u3002\n\n\n\n\n\u521d\u59cb\u5316Configuration\n\n\n\u5728\u4f7f\u7528hadoop\u65f6\uff0c\u901a\u5e38\u662f\u7531\u521d\u59cb\u5316\u914d\u7f6e\u6587\u4ef6\u5b9e\u4f8b\u5f00\u59cb\u7684\nConfiguration conf=new Configuration()\n\u3002\u8fd9\u53e5\u8bdd\u80cc\u540e\u6267\u884c\u4e86\u4e00\u4e9b\u8fc7\u7a0b\uff1a\n\n\n\n\n\u68c0\u67e5\u662f\u5426\u5b58\u5728deprecated\u914d\u7f6e\u6587\u4ef6\nhadoop-site.xml\n\uff0c\u5b58\u5728\u4f1a\u5f39\u51fa\u8b66\u544a\uff0c\u4f46\u4e0d\u4f1a\u52a0\u8f7d\n\n\n\u201c\u52a0\u8f7d\u201ddefault\u914d\u7f6e\u6587\u4ef6\ncore-default.xml\n\u3001\ncore-site.xml\n\u3002\u8fd9\u91cc\u7684\u201c\u52a0\u8f7d\u201d\u5e76\u4e0d\u662f\u771f\u7684\u52a0\u8f7d\uff0c\u53ea\u662f\u628a\ncore-default.xml\n\u548c\ncore-site.xml\n\u4e24\u4e2a\u5b57\u7b26\u4e32\u6dfb\u52a0\u5230\u4e00\u4e2aCopyOnWriteArrayList\u4e2d\u53bb\n\n\n\n\n\u5c31\u5e72\u4e86\u8fd9\u51e0\u4ef6\u4e8b\uff0c\u8fd8\u771f\u662f\u61d2\u5230\u8981\u547d", 
            "title": "Configuration"
        }, 
        {
            "location": "/Configuration/#configuration", 
            "text": "Hadoop\u6709\u592a\u591a\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u914d\u7f6e\u9879\uff0c\u5728\u5b98\u65b9\u6587\u6863\u91cc\u9762\u90fd\u6709\u3002", 
            "title": "Configuration"
        }, 
        {
            "location": "/Configuration/#configuration_1", 
            "text": "\u5728\u4f7f\u7528hadoop\u65f6\uff0c\u901a\u5e38\u662f\u7531\u521d\u59cb\u5316\u914d\u7f6e\u6587\u4ef6\u5b9e\u4f8b\u5f00\u59cb\u7684 Configuration conf=new Configuration() \u3002\u8fd9\u53e5\u8bdd\u80cc\u540e\u6267\u884c\u4e86\u4e00\u4e9b\u8fc7\u7a0b\uff1a   \u68c0\u67e5\u662f\u5426\u5b58\u5728deprecated\u914d\u7f6e\u6587\u4ef6 hadoop-site.xml \uff0c\u5b58\u5728\u4f1a\u5f39\u51fa\u8b66\u544a\uff0c\u4f46\u4e0d\u4f1a\u52a0\u8f7d  \u201c\u52a0\u8f7d\u201ddefault\u914d\u7f6e\u6587\u4ef6 core-default.xml \u3001 core-site.xml \u3002\u8fd9\u91cc\u7684\u201c\u52a0\u8f7d\u201d\u5e76\u4e0d\u662f\u771f\u7684\u52a0\u8f7d\uff0c\u53ea\u662f\u628a core-default.xml \u548c core-site.xml \u4e24\u4e2a\u5b57\u7b26\u4e32\u6dfb\u52a0\u5230\u4e00\u4e2aCopyOnWriteArrayList\u4e2d\u53bb   \u5c31\u5e72\u4e86\u8fd9\u51e0\u4ef6\u4e8b\uff0c\u8fd8\u771f\u662f\u61d2\u5230\u8981\u547d", 
            "title": "\u521d\u59cb\u5316Configuration"
        }, 
        {
            "location": "/FileSystem/", 
            "text": "FileSystem\n\n\nFileSystem\u662fHadoop\u4e2d\u6587\u4ef6\u7cfb\u7edf\u7684\u62bd\u8c61\u7c7b\u3002\u5b83\u7684\u5b9e\u73b0\u7c7b\u5f88\u591a\uff0c\u5bf9\u4e8e\u5355\u51fb\u6a21\u5f0f\u4f7f\u7528\u7684\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\uff0c\u6709LocalFileSystem\uff1b\u5bf9\u4e8ehdfs\uff0c\u6709DistributedFileSystem\u3002\n\n\n\n\nFileStem.get(Configuration conf)\n\n\n\u8fd9\u4e2a\u9759\u6001\u5de5\u5382\u65b9\u6cd5\uff0c\u7528\u6765\u6839\u636e\u914d\u7f6e\u83b7\u5f97\u76f8\u5e94\u7684FileSystem\u5b9e\u73b0\u3002\u5b83\u80cc\u540e\u5e72\u4e86\u4e9b\u4ec0\u4e48\u4e8b\u5462\uff1a\n\n\n\n\n\u8bfb\u53d6fs.defaultFs\u914d\u7f6e\uff0c\u5982\nhdfs://localhost:9000\n\n\n\u6ce8\u610f\uff1a\u5728\u4f7f\u7528\nConfiguration conf=new Configuration()\n\u521d\u59cb\u5316Configuration\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u5e76\u6ca1\u6709\u771f\u6b63\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u3002\u6b64\u65f6\u5728\u8bfb\u53d6fs.defaultFs\u65f6\uff0c\u4f1a\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff0c\u6dfb\u52a0\u914d\u7f6e\u5230conf\u4e2d\u7684\u4e00\u4e2aProperties\u5b9e\u4f8b\u5c5e\u6027\u4e2d\u53bb\u3002\n\n\n\n\n\n\n\u89e3\u6790fs.defaultFs\u914d\u7f6e\u4e2d\u7684\nscheme\n\u548c\nauthority\n\uff0c\u5373\nhdfs\n\u548c\nlocalhost:9000\n\uff0c\nscheme\n\u662f\u7528\u6765\u627e\u914d\u7f6e\u6587\u4ef6\u7684\uff0c\u5982\nscheme\n\u7684\u503c\u4e3a\nhdfs\n\u7684\u65f6\u5019\uff0c\u76f8\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u5c31\u662f\nhdfs-site.xml\n\n\n\u67e5\u627e\u76f8\u5e94FileSystem\u5b9e\u73b0\u3002\u6839\u636e\nscheme\n\uff0c\u67e5\u627e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\nfs.hdfs.impl\n\u9879\uff0c\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u4e86\u7279\u5b9a\u7684FileSystem\u5b9e\u73b0\uff0c\u5219\u8fd4\u56de\uff0c\u6ca1\u6709\uff0c\u5219\u4f7f\u7528\nDistributedFileSytem\n\n\nFileSystem\u6301\u6709\u4e00\u4e2a\u7f13\u5b58\u6c60\u3002\u627e\u5b9e\u4f8b\u65f6\uff0cFileSystem\u4f1a\u5148\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\nfs.hdfs.impl.disable.cache\n\u7684\u503c\u662f\u5426\u4e3atrue\uff0c\u662f\u5219\u4ece\u7f13\u5b58\u6c60\u4e2d\u627e\u76f8\u5e94\u7684FileSystem\u5b9e\u4f8b\uff0c\u6ca1\u6709\u5c31\u521b\u5efa\u4e000\u4e2a\uff0c\u6709\u5c31\u8fd4\u56de\uff0c\u5426\u5219\u5c31\u76f4\u63a5\u521b\u5efa\u3002\n\n\n\n\n\n\n\u521d\u59cb\u5316DistributedFileSystem\u5b9e\u4f8b\uff0c\u8fd9\u5176\u4e2d\u5305\u62ec\u4f7f\u7528\u53cd\u5c04\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u53ca\u8c03\u7528\u7c7b\u7684initialize()\u65b9\u6cd5\u3002\n\n\ninitialize()\u65b9\u6cd5\u505a\u7684\u4e8b\u60c5\u975e\u5e38\u591a\uff0c\u5305\u62ec\u5b9e\u4f8b\u5316DFSClient\uff0c\u4e0eNameNode\u6c9f\u901a\u7684\u4ee3\u7406\u7c7b\uff0c\u8bbe\u7f6e\u5de5\u4f5c\u7a7a\u95f4\uff08\nhdfs://localhost:9000/user/username\n\uff09\u7b49\u7b49\n\n\n\u8c03\u7528\u7236\u7c7b\uff08FileSystem\uff09\u7684initialize()\u65b9\u6cd5\u3002\u83b7\u5f97\u4e00\u4e2aStatistics\u5f15\u7528\u3002\u8fd9\u4e2a\u4e1c\u897f\u662f\u7528\u6765\u7edf\u8ba1\u67d0\u4e2aFileSystem\u7684\u8bfb\u5199\u6570\u636e\u7684\u3002\u8fd9\u4e2a\u4e1c\u897f\u662f\u6bcf\u4e2a\u7c7b\u53ea\u5bf9\u5e94\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6240\u4ee5\u4f1a\u6709\u5f88\u591a\u7ebf\u7a0b\u5199\u4e00\u4e2a\u5b9e\u4f8b\u3002\u5185\u90e8\u4f7f\u7528\u4e86ThreadLocal\uff0c\u8ba9\u6bcf\u4e2a\u7ebf\u7a0b\u5199\u6570\u636e\u7684\u65f6\u5019\u4e92\u4e0d\u5e72\u6270\u3002\n\n\n\u5b9e\u4f8b\u5316DFSClient\uff0cDFSClient\u5bf9\u8fd9\u4e2a\u7c7b\u505a\u4e86\u5f88\u6e05\u695a\u7684\u89e3\u91ca\uff1a\nDFSClient can connect to a Hadoop Filesystem and perform basic file tasks.  It uses the ClientProtocol to communicate with a NameNode daemon, and connects directly to DataNodes to read/write block data. Hadoop DFS users should obtain an instance of DistributedFileSystem, which uses DFSClient to handle filesystem tasks.\n\u3002\u4e0eNameNode\u548cDataNode\u8fdb\u884c\u4ea4\u4e92\uff0cDistrubutedFileSystem\u6301\u6709\u5bf9DFSClient\u7684\u5f15\u7528\uff0c\u7528\u6237\u64cd\u4f5cDistributedFileSystem\u800c\u4e0d\u662fDFSClient\u3002\n\n\nDFSClient\u4f1a\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u751f\u6210\nSpanReceiverHost\n\u4e0e\nSpanReceiver\n,\u5b83\u7528\u6765\u8bb0\u5f55\u4e00\u4e9b\u4e1c\u897f\uff0c\u5177\u4f53\u8bb0\u5f55\u4ec0\u4e48\u6211\u8fd8\u6ca1\u5f04\u61c2\u3002\nSpanReceiverHost\n\u6301\u6709\u5bf9\nSpanReceiver\n\u7684\u5f15\u7528\uff0c\u62e5\u6709\u4e00\u4e2a\nSpanReceiver\n\u7684TreeMap\uff0c\u8fd9\u662f\u6709\u4e2a\u6709\u987a\u5e8f\u7684Map\uff0c\u4ece\nSpanReceiverHost\n\u6e90\u7801\u7684\nloadSpanReceivers()\n\u65b9\u6cd5\u6765\u770b\uff0c\u9ed8\u8ba4\u662f\u6309\u7167\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u987a\u5e8f\u5b58\u50a8\u7684\u3002\u914d\u7f6e\u6587\u4ef6\u4e2d\u5173\u4e8e\nSpanReceiver\n\u7684\u914d\u7f6e\u662f\u5728\nhadoop.htrace.spanreceiver.classes\n\u9879\uff0c\u6ca1\u914d\u7f6e\u5c31\u4e0d\u4f1a\u751f\u6210\u3002\u521d\u6b21\u4e4b\u5916\uff0c\nSpanReceiverHost\n\u8fd8\u4f1a\u5229\u7528\nShutdownHookManager\n\u6ce8\u518c\u5728JVM\u5173\u95ed\u4e4b\u524d\u5173\u95ed\u6301\u6709\u7684\u6240\u6709\nSpanReceiver\n\u7684\u7ebf\u7a0b\u3002\n\n\nDFSClient\u4f1a\u6301\u6709\u4e00\u4e2a\u4e0eNameNode\u4ea4\u6d41\u7684Proxy\uff0c\u901a\u8fc7socket\u8fdb\u884c\u901a\u4fe1\n\n\n\n\n\n\n\n\n\u53ef\u4ee5\u770b\u51faDistributedFileSystem\u7684initialize()\u65b9\u6cd5\u662f\u5f88\u91cd\u8981\u7684\uff0c\u6709\u65f6\u95f4\u518d\u7814\u7a76\u5427", 
            "title": "FileSystem"
        }, 
        {
            "location": "/FileSystem/#filesystem", 
            "text": "FileSystem\u662fHadoop\u4e2d\u6587\u4ef6\u7cfb\u7edf\u7684\u62bd\u8c61\u7c7b\u3002\u5b83\u7684\u5b9e\u73b0\u7c7b\u5f88\u591a\uff0c\u5bf9\u4e8e\u5355\u51fb\u6a21\u5f0f\u4f7f\u7528\u7684\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\uff0c\u6709LocalFileSystem\uff1b\u5bf9\u4e8ehdfs\uff0c\u6709DistributedFileSystem\u3002", 
            "title": "FileSystem"
        }, 
        {
            "location": "/FileSystem/#filestemgetconfiguration-conf", 
            "text": "\u8fd9\u4e2a\u9759\u6001\u5de5\u5382\u65b9\u6cd5\uff0c\u7528\u6765\u6839\u636e\u914d\u7f6e\u83b7\u5f97\u76f8\u5e94\u7684FileSystem\u5b9e\u73b0\u3002\u5b83\u80cc\u540e\u5e72\u4e86\u4e9b\u4ec0\u4e48\u4e8b\u5462\uff1a   \u8bfb\u53d6fs.defaultFs\u914d\u7f6e\uff0c\u5982 hdfs://localhost:9000  \u6ce8\u610f\uff1a\u5728\u4f7f\u7528 Configuration conf=new Configuration() \u521d\u59cb\u5316Configuration\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u5e76\u6ca1\u6709\u771f\u6b63\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u3002\u6b64\u65f6\u5728\u8bfb\u53d6fs.defaultFs\u65f6\uff0c\u4f1a\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff0c\u6dfb\u52a0\u914d\u7f6e\u5230conf\u4e2d\u7684\u4e00\u4e2aProperties\u5b9e\u4f8b\u5c5e\u6027\u4e2d\u53bb\u3002    \u89e3\u6790fs.defaultFs\u914d\u7f6e\u4e2d\u7684 scheme \u548c authority \uff0c\u5373 hdfs \u548c localhost:9000 \uff0c scheme \u662f\u7528\u6765\u627e\u914d\u7f6e\u6587\u4ef6\u7684\uff0c\u5982 scheme \u7684\u503c\u4e3a hdfs \u7684\u65f6\u5019\uff0c\u76f8\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u5c31\u662f hdfs-site.xml  \u67e5\u627e\u76f8\u5e94FileSystem\u5b9e\u73b0\u3002\u6839\u636e scheme \uff0c\u67e5\u627e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 fs.hdfs.impl \u9879\uff0c\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u4e86\u7279\u5b9a\u7684FileSystem\u5b9e\u73b0\uff0c\u5219\u8fd4\u56de\uff0c\u6ca1\u6709\uff0c\u5219\u4f7f\u7528 DistributedFileSytem  FileSystem\u6301\u6709\u4e00\u4e2a\u7f13\u5b58\u6c60\u3002\u627e\u5b9e\u4f8b\u65f6\uff0cFileSystem\u4f1a\u5148\u67e5\u770b\u914d\u7f6e\u6587\u4ef6 fs.hdfs.impl.disable.cache \u7684\u503c\u662f\u5426\u4e3atrue\uff0c\u662f\u5219\u4ece\u7f13\u5b58\u6c60\u4e2d\u627e\u76f8\u5e94\u7684FileSystem\u5b9e\u4f8b\uff0c\u6ca1\u6709\u5c31\u521b\u5efa\u4e000\u4e2a\uff0c\u6709\u5c31\u8fd4\u56de\uff0c\u5426\u5219\u5c31\u76f4\u63a5\u521b\u5efa\u3002    \u521d\u59cb\u5316DistributedFileSystem\u5b9e\u4f8b\uff0c\u8fd9\u5176\u4e2d\u5305\u62ec\u4f7f\u7528\u53cd\u5c04\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u53ca\u8c03\u7528\u7c7b\u7684initialize()\u65b9\u6cd5\u3002  initialize()\u65b9\u6cd5\u505a\u7684\u4e8b\u60c5\u975e\u5e38\u591a\uff0c\u5305\u62ec\u5b9e\u4f8b\u5316DFSClient\uff0c\u4e0eNameNode\u6c9f\u901a\u7684\u4ee3\u7406\u7c7b\uff0c\u8bbe\u7f6e\u5de5\u4f5c\u7a7a\u95f4\uff08 hdfs://localhost:9000/user/username \uff09\u7b49\u7b49  \u8c03\u7528\u7236\u7c7b\uff08FileSystem\uff09\u7684initialize()\u65b9\u6cd5\u3002\u83b7\u5f97\u4e00\u4e2aStatistics\u5f15\u7528\u3002\u8fd9\u4e2a\u4e1c\u897f\u662f\u7528\u6765\u7edf\u8ba1\u67d0\u4e2aFileSystem\u7684\u8bfb\u5199\u6570\u636e\u7684\u3002\u8fd9\u4e2a\u4e1c\u897f\u662f\u6bcf\u4e2a\u7c7b\u53ea\u5bf9\u5e94\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6240\u4ee5\u4f1a\u6709\u5f88\u591a\u7ebf\u7a0b\u5199\u4e00\u4e2a\u5b9e\u4f8b\u3002\u5185\u90e8\u4f7f\u7528\u4e86ThreadLocal\uff0c\u8ba9\u6bcf\u4e2a\u7ebf\u7a0b\u5199\u6570\u636e\u7684\u65f6\u5019\u4e92\u4e0d\u5e72\u6270\u3002  \u5b9e\u4f8b\u5316DFSClient\uff0cDFSClient\u5bf9\u8fd9\u4e2a\u7c7b\u505a\u4e86\u5f88\u6e05\u695a\u7684\u89e3\u91ca\uff1a DFSClient can connect to a Hadoop Filesystem and perform basic file tasks.  It uses the ClientProtocol to communicate with a NameNode daemon, and connects directly to DataNodes to read/write block data. Hadoop DFS users should obtain an instance of DistributedFileSystem, which uses DFSClient to handle filesystem tasks. \u3002\u4e0eNameNode\u548cDataNode\u8fdb\u884c\u4ea4\u4e92\uff0cDistrubutedFileSystem\u6301\u6709\u5bf9DFSClient\u7684\u5f15\u7528\uff0c\u7528\u6237\u64cd\u4f5cDistributedFileSystem\u800c\u4e0d\u662fDFSClient\u3002  DFSClient\u4f1a\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u751f\u6210 SpanReceiverHost \u4e0e SpanReceiver ,\u5b83\u7528\u6765\u8bb0\u5f55\u4e00\u4e9b\u4e1c\u897f\uff0c\u5177\u4f53\u8bb0\u5f55\u4ec0\u4e48\u6211\u8fd8\u6ca1\u5f04\u61c2\u3002 SpanReceiverHost \u6301\u6709\u5bf9 SpanReceiver \u7684\u5f15\u7528\uff0c\u62e5\u6709\u4e00\u4e2a SpanReceiver \u7684TreeMap\uff0c\u8fd9\u662f\u6709\u4e2a\u6709\u987a\u5e8f\u7684Map\uff0c\u4ece SpanReceiverHost \u6e90\u7801\u7684 loadSpanReceivers() \u65b9\u6cd5\u6765\u770b\uff0c\u9ed8\u8ba4\u662f\u6309\u7167\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u987a\u5e8f\u5b58\u50a8\u7684\u3002\u914d\u7f6e\u6587\u4ef6\u4e2d\u5173\u4e8e SpanReceiver \u7684\u914d\u7f6e\u662f\u5728 hadoop.htrace.spanreceiver.classes \u9879\uff0c\u6ca1\u914d\u7f6e\u5c31\u4e0d\u4f1a\u751f\u6210\u3002\u521d\u6b21\u4e4b\u5916\uff0c SpanReceiverHost \u8fd8\u4f1a\u5229\u7528 ShutdownHookManager \u6ce8\u518c\u5728JVM\u5173\u95ed\u4e4b\u524d\u5173\u95ed\u6301\u6709\u7684\u6240\u6709 SpanReceiver \u7684\u7ebf\u7a0b\u3002  DFSClient\u4f1a\u6301\u6709\u4e00\u4e2a\u4e0eNameNode\u4ea4\u6d41\u7684Proxy\uff0c\u901a\u8fc7socket\u8fdb\u884c\u901a\u4fe1     \u53ef\u4ee5\u770b\u51faDistributedFileSystem\u7684initialize()\u65b9\u6cd5\u662f\u5f88\u91cd\u8981\u7684\uff0c\u6709\u65f6\u95f4\u518d\u7814\u7a76\u5427", 
            "title": "FileStem.get(Configuration conf)"
        }
    ]
}